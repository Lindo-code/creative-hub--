import{r as o,k as f,j as i}from"./index-B6u7XJag.js";import{S as m}from"./ScrollTrigger-6qCihK2t.js";import{C as k}from"./Card-DzXHYzhR.js";import"./createSvgIcon-CabGafF6.js";f.registerPlugin(m);const b=({projects:g,activeIndex:a,setShowDetails:h,setTossActive:l})=>{const u=o.useRef(null),p=o.useRef(null),[w,C]=o.useState(0),[d,E]=o.useState(window.innerWidth<600?150:window.innerWidth<1024?250:400),[y,x]=o.useState("60vh");return o.useEffect(()=>{const e=p.current;if(!e)return;const t=document.scrollingElement||window;return m.create({trigger:e,scroller:t,start:"top top",end:"+=200px",onUpdate:r=>{const s=r.progress,n=window.innerWidth<600||window.innerWidth<1024?25:10,c=60-s*(60-n);x(`${c}vh`)},markers:!1}),()=>{m.getAll().forEach(r=>r.kill())}},[]),o.useEffect(()=>{if(!u.current)return;const e=u.current.querySelectorAll(".cards-carousel-item"),t=e[a],r=Array.from(e).filter((n,c)=>c!==a);f.killTweensOf(e),l(!0);const s=f.timeline({defaults:{ease:"power3.inOut",overwrite:"auto"},onComplete:()=>l(!1)});return s.to(e,{scale:.95,opacity:.8,filter:"blur(1px)",duration:.3,stagger:.05},0),s.to(r,{x:-20,y:30,rotateZ:-20,scale:.9,opacity:.5,filter:"blur(4px)",duration:.6,stagger:{amount:.3,from:"center"}},.2),s.to(t,{x:0,y:0,z:0,rotateZ:0,scale:1.2,opacity:1,filter:"blur(0px)",duration:.8,ease:"back.out(1.4)"},.3),()=>{s.kill(),l(!1)}},[a,l]),i.jsx("div",{ref:p,className:"cards-carousel-container",style:{height:y,marginBottom:"-150px"},children:i.jsx("div",{className:"cards-carousel collapsed",ref:u,children:g.map((e,t)=>{const r=a===t,n=360/g.length*t+w,c=d*Math.sin(Math.PI/180*n),S=d*Math.cos(Math.PI/180*n);return i.jsx("div",{className:`cards-carousel-item cards-carousel-collapsed 
                ${t===a?"active":"collapse-others toss-active"}`,style:r?{}:{"--x":`${c}px`,"--z":`${S}px`,"--angle":`${n}deg`},children:i.jsx(k,{project:e,showDetails:!0,isActive:t===a,setShowDetails:h,setTossActive:l})},t)})})})};export{b as default};
