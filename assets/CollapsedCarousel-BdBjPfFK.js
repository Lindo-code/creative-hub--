import{r as s,k as p,j as i}from"./index-BI05uFlm.js";import{S as g}from"./ScrollTrigger-6qCihK2t.js";import{C as k}from"./Card-C_c2DbPR.js";import"./createSvgIcon-DNtXTiSL.js";p.registerPlugin(g);const b=({projects:m,activeIndex:a,setShowDetails:h,setTossActive:o})=>{const c=s.useRef(null),u=s.useRef(null),[w,C]=s.useState(0),[d,R]=s.useState(window.innerWidth<600?150:window.innerWidth<1024?250:400),[y,x]=s.useState("60vh");return s.useEffect(()=>{if(u.current)return g.create({trigger:u.current,start:"top top",end:"+=200px",onUpdate:e=>{const t=e.progress,n=window.innerWidth<600||window.innerWidth<1024?25:10,r=60-t*(60-n);x(`${r}vh`)},markers:!1}),()=>{g.getAll().forEach(e=>e.kill())}},[]),s.useEffect(()=>{if(!c.current)return;const e=c.current.querySelectorAll(".cards-carousel-item"),t=e[a],n=Array.from(e).filter((l,f)=>f!==a);p.killTweensOf(e),o(!0);const r=p.timeline({defaults:{ease:"power3.inOut",overwrite:"auto"},onComplete:()=>o(!1)});return r.to(e,{scale:.95,opacity:.8,filter:"blur(1px)",duration:.3,stagger:.05},0),r.to(n,{x:-20,y:30,rotateZ:-20,scale:.9,opacity:.5,filter:"blur(4px)",duration:.6,stagger:{amount:.3,from:"center"}},.2),r.to(t,{x:0,y:0,z:0,rotateZ:0,scale:1.2,opacity:1,filter:"blur(0px)",duration:.8,ease:"back.out(1.4)"},.3),()=>{r.kill(),o(!1)}},[a,o]),i.jsx("div",{ref:u,className:"cards-carousel-container",style:{height:y,marginBottom:"-150px"},children:i.jsx("div",{className:"cards-carousel collapsed",ref:c,children:m.map((e,t)=>{const n=a===t,l=360/m.length*t+w,f=d*Math.sin(Math.PI/180*l),S=d*Math.cos(Math.PI/180*l);return i.jsx("div",{className:`cards-carousel-item cards-carousel-collapsed 
                ${t===a?"active":"collapse-others toss-active"}`,style:n?{}:{"--x":`${f}px`,"--z":`${S}px`,"--angle":`${l}deg`},children:i.jsx(k,{project:e,showDetails:!0,isActive:t===a,setShowDetails:h,setTossActive:o})},t)})})})};export{b as default};
