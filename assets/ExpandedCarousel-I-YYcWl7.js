import{r as s,k as R,j as a}from"./index-CZUztNko.js";import{C as M}from"./Card-CXjZpkuj.js";import"./createSvgIcon-D-UeacSm.js";const W=({projects:n,activeIndex:o,setActiveIndex:m,setShowDetails:c})=>{const[w,g]=s.useState(0),[r,v]=s.useState(l()),i=s.useRef(null);function l(){const e=Math.min(window.innerWidth,window.innerHeight);return Math.max(150,Math.min(500,e*(window.innerWidth<600?.3:window.innerWidth<1024?.4:.35)))}s.useEffect(()=>{const e=()=>{v(l()),u()};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),s.useEffect(()=>{u()},[o,r,n.length]);const u=()=>{if(!i.current)return;const e=i.current.querySelectorAll(".cards-carousel-item");if(e.length===0)return;const t=360/n.length;e.forEach((d,p)=>{const f=t*p+w,h=Math.PI/180*f,x=r*Math.sin(h),C=r*Math.cos(h);R.to(d,{x,z:C,rotateY:f,duration:.5,ease:"power3.inOut"}),d.classList.remove("active")})},E=e=>{m(e);const t=360/n.length;g(-t*e),e===o&&c(!0)};return a.jsx("div",{className:"cards-carousel-container",children:a.jsx("div",{className:"cards-carousel",ref:i,children:n.map((e,t)=>a.jsx("div",{className:"cards-carousel-item",onClick:()=>E(t),children:a.jsx(M,{project:e,showDetails:!1,isActive:!1,setShowDetails:c})},t))})})};export{W as default};
